Неделя #2: Небольшой прогресс и концепт "мультиаккаунта"
---------------------------------------------------------
:date: 2014-07-24 19:22
:author: gigimon
:category: homefinance
:tags: startup, homefinance, project, money
:slug: homefinance-2

Прогресс
========

К сожалению, за больше чем месяц, ничего крутого не сделал, на дворе лето, программировать очень лениво :)
За это время я на Django сделал:

- добавление используемых валют, а также их курсов (либо использование автообновляемого раз в сутки)

- создание/удаление счетов (пока выбрать тип можно, но плюшек никаких нет)

- отображение счетов на главной с разбиением по валютам, какие есть у счета, показ суммы счета в выбраной валюте по умолчанию

- отображение последних 30 транзакций по всем счетам, а если счет выбран, то для этого счета

- расход/доход/перевод денег по счетам, в том числе в разной валюте и при переводе автоматическая конвертация (пока без каких-либо проверок на минус и другой логики)



Мультиаккаунтность
===================

Хочу сделать 2 режима мультиаккаунта:

1. Расшаривание определенных счетов между любым количеством аккаунтов

2. Саб-аккаунт - когда у подключаемого пользователя нету своих счетов, категорий, валют, а видит только те, которые имеются у "главного"


В целом процедура расшаривания будет такой, в настройках пользователя пункт "Добавить пользователя", где список всех подключенных пользователей и форма добавления нового (только e-mail и тип аккаунта), а после добавления можно выбрать, под которым показывать в истории.
Пользователю, которого вы пригласили, отправяется e-mail со ссылкой, при переходе на которую описывается все, что произойдет (если выбран второй тип подключения) и кнопки "Согласен"/"Не согласен".

В настройках счетов будет пункт "Расшарить счет" и выбор на кого расшарить с правами "Только чтение"/"Полный доступ".
При "Только чтение" подключенный человек будет только видеть суммы на счете и движение средств по нему, при полном же доступе, сможет добавлять "расход" и "доход", а "переводы" можно делать как на обоюдно расшареный счет, так и на тот, который никто не видит (тогда в истории будет показываться "Личный" и имя)

Примерно такую систему прав и планирую, было бы хорошо выслушать "за" и "против"