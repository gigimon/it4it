Быстро развертываем Windows шару на Linux
#########################################
:date: 2009-05-19 21:53
:author: gigimon
:category: \*nix
:tags: samba, файлопомойка, шара
:slug: bystro-razvertyvaem-windows-sharu-na-linux

Для работы с Windows шарами  (NetBios) в Linux применяется пакет Samba
(а также для сетевых принтеров, работы в домене...) Она имеет оочень
много опций и является мощнейшим инструментов для развертывания
файлопомойки или сетевого хранилища в Wndows сети.

Я хочу поведать о простейшем случае, когда надо просто расшарить пару
папок для чтения и записи :)

Для начала устанавливаем samba и редактируем конфиг расположеный в
/etc/samba/smb.conf и заполянем таким содержимым:

.. code-block:: bash

    [global]
    workgroup = MYHOME
    netbios name = SERVER
    security = share
    client code page = cp1251

где, [global] - название этого блока конфига

workgroup - рабочая группа, в котором находится машина

netbios name - имя компьютера, которое будут видеть windows пользователи
в сетевом окружении :)

security - тип режима работы самбы

client codepage - кодировка, в которую перекодировать все при показе
пользователю ( стоит cp1251, т.к это системная кодировка русской
windows)

После этого, добавим нашу шару:

.. code-block:: bash

    [share1]
    path = /home/aliens/download
    guest ok = Yes
    read only = Yes
    writable = No

где, [share1] - название блока данных конфига и название пути для
данной шары

path - собственно путь до папки-шары

guest ok - возможность просмотра шары гостями (анонимными)

read only - установить возможность только чтения

writable - возможность записи

Соответственно, если хотите чтобы все могли писать в эту папку,
поменяйте в read only в No, а writable в Yes

После редактирования конфига, перегрузите сервис самбы и проверьте
работу шары :)
